<html>

<head>
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script> -->
    <!-- Embed the Adyen Web script element above any other JavaScript in your checkout page. -->
    <script src="https://checkoutshopper-live.cdn.adyen.com/checkoutshopper/sdk/6.11.0/adyen.js"
        integrity="sha384-wwiuyx0VwdDwaHvlLtdCKeUuFCNIMDrWrQI24PdEMMMGgOZPHirMZfXHNgrk6DG5"
        crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://checkoutshopper-live.cdn.adyen.com/checkoutshopper/sdk/6.11.0/adyen.css"
        integrity="sha384-grpuyJ9vAlVrx/mBLXLO3V2f9W3m5KKYx34MzigvvPqArvi0WqWoD/Pl++yf15EU" crossorigin="anonymous">
    <script>

        async function loadDropin() {
            var bin;
            var sessionResponse = {
    "amount": {
        "currency": "AED",
        "value": 1000
    },
    "countryCode": "AE",
    "expiresAt": "2025-08-13T08:55:02+02:00",
    "id": "CSE84F5BBA72FAF874637A2B1",
    "merchantAccount": "MaherAccountECOM",
    "recurringProcessingModel": "CardOnFile",
    "reference": "checkinglogs-sessions",
    "returnUrl": "http://127.0.0.1:8080/page.html",
    "shopperInteraction": "Ecommerce",
    "shopperLocale": "ar",
    "shopperReference": "1234444",
    "storePaymentMethodMode": "askForConsent",
    "mode": "embedded",
    "sessionData": "Ab02b4c0!BQABAgCCcBFql9H8ZsXWVG2366HPD1yQbhmhtYYnMfa2DT0aRHyhfHFqm2y5kZE2e0dh+H1tkIsH6WOOHDzxdIAUJWHBaxn1f4oy8THW6DmlXQ3CQNHiBf6gmhaMf2YMVOT6g4W9YvClpNwxf2lrW5sfpQ7LJF4bIEgv5qOM2EfUdJZioZwpbgrlAWgF/KaAkRzlzmBVnUpKBjWvg2I9z2S7hHMNTgMY3aSOKFA2gSSVOzAH1YwXqayZ132kofxWYpOXY/Dprr8pcJh8v9BcpDyGvxKfkIcTmMGJTI4VJemaEGABwn8DmHOA2XpjqnmHC2UCOs/FqSgt5PoMne8IkB242ol6FKyR+09SC9Q3GDjHia/I6i+97QWHY6eCwNxe1tzbh0JPHRNJbUKzgYqValKLOoNAH2EcP3zM5rSKntDl5+Youu9uuwzp0+8OTtzAvX/vqxsIoc4Kml/Ri6nisDJN01EzlnXaj9sFhqTZqfuJymQbPvmLnCYXG8k/t1zkbrxyGLZIsgtdZ2L784Ai+iZm1UV4Z2dTbHQwOMeQw1Iy8QBUZ4NpOQu09htGUTfxrxGANkm8ZcUxCmXURQquGN/0ix8Ph0HYZmLowKiAPwOvZM+Zya3En2MsuNi8xWEIL99n6gj98Mp2OyEMkg74FxLo6Iu1W+fklmnk2qT9EwT4jUbcYwyDTVS9AHKDhOgxLLwASnsia2V5IjoiQUYwQUFBMTAzQ0E1MzdFQUVEODdDMjRERDUzOTA5QjgwQTc4QTkyM0UzODIzRDY4REFDQzk0QjlGRjgzMDVEQyJ91JNwU10orDMgBZarR2MTk0Lg0PD4Xm2Hq0ZBAX6Ypjb3ecgHL1gPcnY0lvvJqN5Tf0U/J3TX9Cl3VaykE6cHd8+Rl6w2PTbKEySCl0X3OlPOGiv9PKmhuEOXGuFSmMUjTJN0RZTJHunmQ62+AB4K5/5RPv+4MWUxFkMxaEsKfTp+D/VRhdwQvT9wSHMVygjjH6MHsmpERBfGUlwkG+p1+/5S3GJdsqx5FW9eN11CvmIorMStz80+AClr05TaGsgu+XfHt/mALjXJaStHc/mcmRxlH/sAcmO9L/FukiPUIsmdaka7paJC5wpm4SMTRYJQoAUsoY5cHu4oWNJHrXJE7XQhRARtJg1j0LHpFXkpzfAacIHV/KumnfbHqLTq39QLez/nrZCbEHPcktNwmdhfglzg0xUe0yG0nDE5scO5ityIn7cUfxx1HzPy0Im13SPjV8IseLi/cSKKSpMBqqk1lYtdgKPVA2/LMSJEOYeI90iRHofCEZutvR1PB70WAVV8LmELre7lGVw8Xia/QXDo+P/XPX3iHQcH53ySv2tPS9Dby3HQMTxFezaYEMh/R5J56VT6vS0i92VKIuP3MyYi81U5D5c4oereCEkXbzTQjXE4GxbtSkFijLyDhIUzxQAONDJPfSRn9y/JcDz22yAIDx6bFia+hYPJJZNsLeroD9Yn/QsNzoknrYUDEgE6L7hRtkLq66jlCtaIPyj1e9JuPc3bE5PM9JtIg+C7EsQXwdxnQAuZcnRb9yaFDkOi46Sfr+oh6bUP0pXG7CZBjy01"
}

            var sessionid = sessionResponse.id
            var sessionData = sessionResponse.sessionData
            var dropin;
            var inif = false;
            const globalConfiguration = {
                session: {
                    id: sessionid, // Unique identifier for the payment session.
                    sessionData: sessionData // The payment session data.
                },

                environment: 'test', // Change to 'live' for the live environment.
                amount: {
                    value: 10000,
                    currency: 'AED'
                },
                locale: 'ar',
                countryCode: 'AE',
                clientKey: 'test_DNYUPHYAUJEWPEKUYET53S3U2EBHNJJD', // Public key used for client-side authentication: https://docs.adyen.com/development-resources/client-side-authentication
                // clientKey: 'live_G243FH7YG5DZHJR43FD365L24AWRKMPI',
                onPaymentCompleted: (result, component) => {
                    console.info(result, component);
                },
                onPaymentFailed: (result, component) => {
                    console.log('error',result)
                    console.info(result, component);

                },
                // beforeSubmit: (result, component,actions) => {
                //     let text = "Stop?"
                //     if (confirm(text) == true) {
                //         alert('stopped sessions')
                //         actions.reject()
                //     } else {
                //         console.log('continuing')
                //         actions.resolve()
                //     }
                //     console.log('fromonsubmit', result)
                    
                // },
                // onReady: () => {
                //     // console.log("LOADEDEDDEDED");
                //     // $('input').addClass('righttoleft');
                // },
                // onChange: () => {
                //     console.log('12asd');
                //     $('input').addClass('righttoleft');
                // },
                // onBinValue: (component) =>{
                //     console.log('binval',component)
                // },
                onError: (error, component) => {
                    console.error(error.name, error.message, error.stack, component);
                }
            };
            // All of the resources that you imported are properties of the window.
            // In this example you imported Card, GooglePay, and Paypal individually.
            const { AdyenCheckout, Dropin, Card, GooglePay, PayPal } = window.AdyenWeb;

            const checkout = await AdyenCheckout(globalConfiguration);
            // console.log("PM",checkout.paymentMethodsResponse);
            // checkout.paymentMethodsResponse={checkout.paymentMethodsResponse.storedPaymentMethods
            dropin = new Dropin(checkout
                // onBinValue: (component) =>{
                //     console.log('binval',component)
                // },
                // ,checkout.paymentMethodsResponse.storedPaymentMethods[0]
                , {

                    // // showRemovePaymentMethodButton: false

                    // ,
                    // onChange: () => {
                    //     console.log('teasd');
                    // },
                    // onReady: () => {
                    //     console.log("LOADEDEDDEDED");
                    //     $('input').addClass('righttoleft');
                    // }
                    paymentMethodsConfiguration: {
                        card: {
                            onBinValue: (component) => {
                                console.log('binval', component)
                                bin = component.binValue
                                console.log(bin)
                            }
                        }
                    }
                    // paymentMethodsConfiguration: {
                    //     card: {
                    //         styles: {
                    //             base: {
                    //                 fontWeight: "400",
                    //                 direction: "rtl"
                    //             }
                    //         }
                    //     }
                    // }
                }
            ).mount('#dropin-container');
        }
        loadDropin();
    </script>
    <style>
        .righttoleft {
            direction: rtl;
        }

        .hide {
            display: none;
        }

        .popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1001;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.5);
            /* semi-transparent background */
            z-index: 1000;
        }
    </style>
</head>

<body>
    <div id="overlay" class="overlay-div hide"></div>
    <div id="holder-div" class="holder-div"> TEST PAGE
        <div id="dropin-container"></div>
    </div>




</body>


</html>